# #12-3 해싱 (3)

**목차**

- [#12-3 해싱 (3)](#12-3-해싱-3)
  - [좋은 해시 함수란?](#좋은-해시-함수란)
  - [해시 함수](#해시-함수)
    - [Division 기법](#division-기법)
    - [Multiplication 기법](#multiplication-기법)

## 좋은 해시 함수란?

- 현실에서는 키들이 랜덤하지 않다.
- 만약 키들의 통계적 분포에 대해 알고 있다면 이를 이용해서 해시 함수를 고안하는 것이 가능하겠지만 현실적으로 어렵다.
- 키들이 어떤 특정한(가시적인) 패턴을 가지더라도 **해시 함수값이 불규칙적이 되도록 하는게 바람직하다.**
  - 즉. **해시 함수값이 키의 특정 부분에 의해서만 결정되지 않아야 한다.**

## 해시 함수

### Division 기법

- `h(k) = k mod m` (`m`은 테이블 사이즈)
- 예시: `m = 20` and `k = 91` ⇒ `h(k) = 11`
- 장점: 한번의 `mod` 연산으로 계산하기 때문에 빠르다.
- 단점: 어떤 `m` 값에 대해서는 해시 함수값이 키 값의 특정 부분에 의해서 결정되는 경우가 있다.
  - 가령 `m = 2^p` 이면 키의 하위 `p` 비트가 해시 함수 값이 된다.
  - 이렇기에 보통 단순히 테이블 사이즈로 키 값을 나눠서 해시 함수 값을 정하지 않는다.

### Multiplication 기법

- 0에서 1사이의 상수 `A`를 선택: `0 < A < 1`
- `ka`의 소수 부분만을 택한다.
- 소수 부분에 `m`을 곱한 후 소수점 아래를 버린다.
- 예시: `m = 8`, word size = `w = 5`, `k = 21`
  - `A = 13/32`를 선택
  - `ka` = `21 * 13/32` = `273/32` = `8 +17/32`
  - `m (ka mod 1)` = `8 * 17/32` = `17/4` = `4`
  - 즉, `h(21) = 4`

해시 함수 값을 도출해내는 과정이 복잡한데 이런 복잡한 과정이 의미하는 것은 결국 비슷한 키 값이 들어오는 상황에도 해시 함수 값이 예측하기 힘들게 만드려는 것이다.

즉, 위에서 언급했듯이 해시 함수 값이 키의 특정 부분에 의해서만 결정되지 않도록 만드려는 작업이자 키들이 어떤 가시적인 패턴을 가지더라도 불규칙한 해시 함수 값을 가지게 하려는 작업이다.

**Multiplication** 기법은 여러 기법 중에 하나일 뿐이다. 이런 기법들이 왜 복잡한 연산을 하느냐에 포커즈를 맞추기 보다는 복잡한 연산을 통해 불규칙한 해시 함수 값을 만들고 있다에 포커즈를 맞추면 된다.
